---
apiVersion: v1
data:
  instanceType: t3-small
  nodeCount: "3"
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: cluster-config
---
apiVersion: v1
data:
  cluster_name: Z2FyZmllbGQ=
kind: Secret
metadata:
  creationTimestamp: null
  name: cluster-config
---
apiVersion: infra.contrib.fluxcd.io/v1alpha1
kind: Terraform
metadata:
  name: helloworld-vars
spec:
  interval: 10s
  approvePlan: "auto"
  path: ./
  sourceRef:
    kind: GitRepository
    name: helloworld
  varsFrom:
  - kind: ConfigMap
    name: cluster-config
    varsKeys:
    - nodeCount
    - instanceType
  - kind: Secret
    name: cluster-config
# TODO: add vars to be tested after this issue is addressed https://github.com/weaveworks/tf-controller/issues/80